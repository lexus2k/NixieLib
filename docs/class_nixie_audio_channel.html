<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nixie Library: NixieAudioChannel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nixie Library
   &#160;<span id="projectnumber">0.5.2</span>
   </div>
   <div id="projectbrief">Nixie Library to develop Nixie Clock</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_nixie_audio_channel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NixieAudioChannel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="nixie__audio__channel_8h_source.html">nixie_audio_channel.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a84f1346e197fb802bfcdf884fa653a33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a84f1346e197fb802bfcdf884fa653a33">NixieAudioChannel</a> (uint8_t pin)</td></tr>
<tr class="separator:a84f1346e197fb802bfcdf884fa653a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68331e1d2e4d0b5eff9412d2635f42b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a68331e1d2e4d0b5eff9412d2635f42b3">init</a> ()</td></tr>
<tr class="separator:a68331e1d2e4d0b5eff9412d2635f42b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce3b1d963e23d508190500b219580d7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update</a> (unsigned long ts)</td></tr>
<tr class="separator:abce3b1d963e23d508190500b219580d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249219529b7b80055c56aa25bc0dc5b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a249219529b7b80055c56aa25bc0dc5b7">playMusic</a> (const <a class="el" href="struct_nixie_melody.html">NixieMelody</a> &amp;melody, long totalDuration=0)</td></tr>
<tr class="separator:a249219529b7b80055c56aa25bc0dc5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e2e8f24ce1ab9468feb4de4c2b8bfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a32e2e8f24ce1ab9468feb4de4c2b8bfe">playNote</a> (const <a class="el" href="struct_s_nixie_tempo_note.html">SNixieTempoNote</a> &amp;note, bool wait=false)</td></tr>
<tr class="separator:a32e2e8f24ce1ab9468feb4de4c2b8bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15bac6a7d1b67e648a56e821f0ee1678"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a15bac6a7d1b67e648a56e821f0ee1678">playNote</a> (const <a class="el" href="struct_s_nixie_sampling_note.html">SNixieSamplingNote</a> &amp;note, bool wait=false)</td></tr>
<tr class="separator:a15bac6a7d1b67e648a56e821f0ee1678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa01209446dc65fee1bad7542e7243498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#aa01209446dc65fee1bad7542e7243498">playNote</a> (int16_t freq, long totalDuration, bool wait=false)</td></tr>
<tr class="separator:aa01209446dc65fee1bad7542e7243498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d8452589d07ace912328608ae3d0e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#a41d8452589d07ace912328608ae3d0e2">stopMusic</a> ()</td></tr>
<tr class="separator:a41d8452589d07ace912328608ae3d0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0453db2ac59ba4163ccf2fda990710d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_nixie_audio_channel.html#af0453db2ac59ba4163ccf2fda990710d">isPlaying</a> ()</td></tr>
<tr class="separator:af0453db2ac59ba4163ccf2fda990710d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_nixie_audio_channel.html">NixieAudioChannel</a> class is intended to play defined melodies on buzzer, connected to specific atmel controller pin. </p>

<p>Definition at line <a class="el" href="nixie__audio__channel_8h_source.html#l00091">91</a> of file <a class="el" href="nixie__audio__channel_8h_source.html">nixie_audio_channel.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a84f1346e197fb802bfcdf884fa653a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f1346e197fb802bfcdf884fa653a33">&sect;&nbsp;</a></span>NixieAudioChannel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">NixieAudioChannel::NixieAudioChannel </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates <a class="el" href="class_nixie_audio_channel.html">NixieAudioChannel</a> object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>- buzzer pin to control. Set it to 0xFF if you want to control buzzer pin manually. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> </dd></dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8h_source.html#l00100">100</a> of file <a class="el" href="nixie__audio__channel_8h_source.html">nixie_audio_channel.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a68331e1d2e4d0b5eff9412d2635f42b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68331e1d2e4d0b5eff9412d2635f42b3">&sect;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes and sets correct pin mode </p>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00189">189</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="af0453db2ac59ba4163ccf2fda990710d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0453db2ac59ba4163ccf2fda990710d">&sect;&nbsp;</a></span>isPlaying()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool NixieAudioChannel::isPlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if playing something </p>

<p>Definition at line <a class="el" href="nixie__audio__channel_8h_source.html#l00163">163</a> of file <a class="el" href="nixie__audio__channel_8h_source.html">nixie_audio_channel.h</a>.</p>

</div>
</div>
<a id="a249219529b7b80055c56aa25bc0dc5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a249219529b7b80055c56aa25bc0dc5b7">&sect;&nbsp;</a></span>playMusic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::playMusic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_nixie_melody.html">NixieMelody</a> &amp;&#160;</td>
          <td class="paramname"><em>melody</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>totalDuration</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts playing specified melody. </p><dl class="section warning"><dt>Warning</dt><dd>melody notes should be placed to flash memory, not RAM</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">melody</td><td>- melody to play </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">totalDuration</td><td>- desired duration in microseconds or 0. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00169">169</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="a32e2e8f24ce1ab9468feb4de4c2b8bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e2e8f24ce1ab9468feb4de4c2b8bfe">&sect;&nbsp;</a></span>playNote() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::playNote </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_s_nixie_tempo_note.html">SNixieTempoNote</a> &amp;&#160;</td>
          <td class="paramname"><em>note</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays single tempo note, located in RAM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">note</td><td>- reference to <a class="el" href="struct_s_nixie_tempo_note.html">SNixieTempoNote</a> structure, describing the note to play </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wait</td><td>- if false, playNote() will return immediately, and don't forget to call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> in loop cycle. if true, playNote() will return, when playing is finished. For "true" case playNote() will call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>call <a class="el" href="class_nixie_audio_channel.html#af0453db2ac59ba4163ccf2fda990710d">isPlaying()</a> method to get know if playing is stopped or not. </dd></dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00196">196</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="a15bac6a7d1b67e648a56e821f0ee1678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15bac6a7d1b67e648a56e821f0ee1678">&sect;&nbsp;</a></span>playNote() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::playNote </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_s_nixie_sampling_note.html">SNixieSamplingNote</a> &amp;&#160;</td>
          <td class="paramname"><em>note</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays single sampling note, located in RAM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">note</td><td>- reference to <a class="el" href="struct_s_nixie_sampling_note.html">SNixieSamplingNote</a> structure, describing the note to play </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wait</td><td>- if false, playNote() will return immediately, and don't forget to call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> in loop cycle. if true, playNote() will return, when playing is finished. For "true" case playNote() will call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>call <a class="el" href="class_nixie_audio_channel.html#af0453db2ac59ba4163ccf2fda990710d">isPlaying()</a> method to get know if playing is stopped or not. </dd></dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00215">215</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="aa01209446dc65fee1bad7542e7243498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01209446dc65fee1bad7542e7243498">&sect;&nbsp;</a></span>playNote() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::playNote </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>totalDuration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Plays speicified frequency during specified duration in microseconds. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">freq</td><td>- frequency in Herz to play </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">totalDuration</td><td>- how log to play the note in microseconds. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wait</td><td>- if false, playNote() will return immediately, and don't forget to call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> in loop cycle. if true, playNote() will return, when playing is finished. For "true" case playNote() will call <a class="el" href="class_nixie_audio_channel.html#abce3b1d963e23d508190500b219580d7">update()</a> automatically. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>call <a class="el" href="class_nixie_audio_channel.html#af0453db2ac59ba4163ccf2fda990710d">isPlaying()</a> method to get know if playing is stopped or not. </dd></dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00234">234</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="a41d8452589d07ace912328608ae3d0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d8452589d07ace912328608ae3d0e2">&sect;&nbsp;</a></span>stopMusic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NixieAudioChannel::stopMusic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops playing music or note. </p>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00181">181</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<a id="abce3b1d963e23d508190500b219580d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce3b1d963e23d508190500b219580d7">&sect;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t NixieAudioChannel::update </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method must be called in main loop cycle always. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ts</td><td>- timestamp returned by micros() function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOW or HIGH, saying which state should be set Digital pin to. This value can be used to manually control the buzzer pin, if you need. 0xFF if audio source should be disabled. </dd></dl>

<p>Definition at line <a class="el" href="nixie__audio__channel_8cpp_source.html#l00063">63</a> of file <a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="nixie__audio__channel_8h_source.html">nixie_audio_channel.h</a></li>
<li>src/<a class="el" href="nixie__audio__channel_8cpp_source.html">nixie_audio_channel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
